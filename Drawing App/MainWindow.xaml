<Window
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Drawing_App"
        xmlns:syncfusion="http://schemas.syncfusion.com/wpf" x:Class="Drawing_App.MainWindow"
        mc:Ignorable="d"
        xmlns:viewmodel="clr-namespace:Drawing_App.VM"
        Title="MainWindow" Height="650" Width="1000">
    <Window.Resources>
        <LinearGradientBrush x:Key="HueBackgroundBrush" StartPoint="0,0" EndPoint="1,0">
            <GradientStop Color="#FFFF0000" Offset="0.0"/>
            <GradientStop Color="#FFFFFF00" Offset="0.17"/>
            <GradientStop Color="#FF00FF00" Offset="0.33"/>
            <GradientStop Color="#FF00FFFF" Offset="0.5"/>
            <GradientStop Color="#FF0000FF" Offset="0.67"/>
            <GradientStop Color="#FFFF00FF" Offset="0.83"/>
            <GradientStop Color="#FFFF0000" Offset="1.0"/>
        </LinearGradientBrush>

    </Window.Resources>
    <Window.DataContext>
        <viewmodel:MainWindowVM/>
    </Window.DataContext>
    <Grid Margin="0,0,0,0" Background="#FFC77740">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="2*"/>
            <ColumnDefinition Width="*"/>

        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="8*"/>
        </Grid.RowDefinitions>

        <StackPanel Grid.Row="1"  VerticalAlignment="Center" HorizontalAlignment="Center" RenderTransformOrigin="0.5,0.5" Height="610" >
            
            <ItemsControl x:Name="draw" ItemsSource="{Binding DrawingElements}" Width="665" Height="563">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <Canvas  x:Name="drawingCanvas" IsItemsHost="True" Background="White" MouseLeftButtonDown="drawingCanvas_MouseLeftButtonDown" MouseMove="drawingCanvas_MouseMove" MouseLeftButtonUp="drawingCanvas_MouseLeftButtonUp" Height="NaN" Width="NaN" Margin="0,0,0,0" Opacity="{Binding Opacity, Mode=TwoWay}"/>
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
            </ItemsControl>

        </StackPanel>


        <!-- Side Panel for Tools and Color Picker -->
        <StackPanel VerticalAlignment="Top" HorizontalAlignment="Left"  Height="1560" Width="265" Background="#FFE5C591" Grid.Column="1" Margin="0,40,0,0" Grid.RowSpan="2">
            <TextBlock Text="Brush Size" HorizontalAlignment="Center"/>
            <Slider Name="SizeBrush" Minimum="1" Maximum="100" Value="5" TickFrequency="1" IsSnapToTickEnabled="True" Margin="10" ValueChanged="SizeBrush_ValueChanged"/>

            <TextBlock Text="Hue" HorizontalAlignment="Center"/>
            <Slider Name="HueSlider" Minimum="0" Maximum="360" Value="180" TickFrequency="0.1" IsSnapToTickEnabled="True" Margin="10" Background="{StaticResource HueBackgroundBrush}" ValueChanged="HueSlider_ValueChanged"/>

            <TextBlock Text="Saturation" HorizontalAlignment="Center"/>
            <Slider Name="SaturationSlider" Minimum="0" Maximum="1" Value="1" TickFrequency="0.001" IsSnapToTickEnabled="True" Margin="10" ValueChanged="SaturationSlider_ValueChanged"/>

            <TextBlock Text="Brightness" HorizontalAlignment="Center"/>
            <Slider Name="BrightnessSlider" Minimum="0" Maximum="1" Value="1" TickFrequency="0.001" IsSnapToTickEnabled="True" Margin="10" ValueChanged="BrightnessSlider_ValueChanged"/>
            <TextBlock Text="Opacity" HorizontalAlignment="Center"/>
            <Slider Name="OpacitySlider" Minimum="0" Maximum="1" Value="{Binding Opacity, Mode=TwoWay}" TickFrequency="0.01" IsSnapToTickEnabled="True" Margin="10"/>

            <Button Content="Eraser" Margin="10" Height="30" Width="200" Command="{Binding EraserCommand}" Background="#FFDC75CC"/>
            <Rectangle Name="ColorViews" Height="100" Stroke="Black" Width="100" Margin="10" Fill="{Binding RectangleFill}"/>
            <Button Content="Save As Image" Height="63" Width="140" Background="#FF84E588" Click="Button_Click"   />
            <UniformGrid Rows="1" Margin="0,0,10,10">
                <Ellipse Name="one" Height="30" Width="30" Margin="3,0,3,0" Fill="{Binding Color1}"></Ellipse>
                <Ellipse Name="two" Height="30" Width="30" Margin="3,0,3,0" Fill="{Binding Color2}"></Ellipse>
                <Ellipse Name="three" Height="30" Width="30" Margin="3,0,3,0" Fill="{Binding Color3}"></Ellipse>
                <Ellipse Name="four" Height="30" Width="30" Margin="3,0,3,0" Fill="{Binding Color4}"></Ellipse>
                <Ellipse Name="five" Height="30" Width="30" Margin="3,0,3,0" Fill="{Binding Color5}"></Ellipse>
                <Ellipse Name="six" Height="30" Width="30" Margin="3,0,3,0" Fill="{Binding Color6}"></Ellipse>
                <Ellipse Name="seven" Height="30" Width="30" Margin="3,0,3,0" Fill="{Binding Color7}"></Ellipse>
            </UniformGrid>
            <Menu Height="36" Background="#FFE5C591" HorizontalAlignment="Center">
                
                <MenuItem Header="Brushes" FontSize="20"  Width="98">
                    <MenuItem Header="Pen" Command="{Binding PencilCommand}"/>
                    <MenuItem Header="Pencil" Command="{Binding PenCommand}"/>
                    <MenuItem Header="Marker" Command="{Binding MarkerCommand}"/>
                </MenuItem>
            </Menu>

        </StackPanel>


        <StackPanel Background="#FFE5C591" Margin="0,0,0,30" Grid.Row="0" Grid.ColumnSpan="2"/>
    </Grid>
</Window>
